# 油价日历订阅系统

这是一个基于Node.js的油价日历订阅发布系统，用于发布和提醒用户油价调整信息。

线上系统 https://oil25.com/
## 文件结构说明

### 数据文件
- **tzrq.json**: 存储油价调整时间表，包含所有预定的调整日期
- **search_results.json**: 存储动态信息，包括：
  - 最近一次油价调整趋势（上涨/下跌）
  - 调整幅度和油品类型
  - 新闻来源和链接
  - 手动调整信息
  - 新闻历史记录

### 系统架构
- **前端**: Node.js + Express 服务器
- **后端**: Python + Flask 爬虫服务
- **数据存储**: JSON文件，不使用数据库

## 用户界面功能
1、显示tzrq.json日期油价调整情况，92、95、98等，上次日期上涨或下降
2、有订阅日历按钮，订阅内容包括：
-包含调整时间、调整幅度等信息
-调整幅度通过网络爬虫获取油价调整新闻，每日自动更新一次

## 管理界面功能
1、管理界面只展示统计订阅人数，油价调整日期和上涨或下跌情况，可以手动调整上涨或下跌

## 系统要求
1、不要创建很多项目的目录，不使用数据库，需要存储的使用json文本
2、尽量不记录用户个人信息，随机生成时间戳id标记用户

## 项目功能

### 用户界面
#### 1. 油价调整信息发布
- 支持发布油价调整时间
  - 从tzrq.json配置文件读取油价调整时间表
  - 支持自动解析和更新调整时间数据
- 支持发布油价调整幅度（上涨/下跌）
  - 通过网络爬虫获取油价调整新闻
  - 多方对比判断上涨或下降趋势
  - 记录历史调整数据
- 支持设置提醒时间
  - 每次调整当天16:00发出日历提醒
  - 提醒内容包括调整时间、调整幅度
  - 支持自定义提醒时间

#### 2. 用户订阅管理
- 支持用户订阅油价调整提醒
- 提供Web界面进行订阅操作
- 提供取消订阅链接
- 支持批量取消订阅
- 支持生成iCalendar格式的日历订阅链接，直接界面下载和扫码下载
- 支持Google Calendar
- 支持Apple Calendar
- 支持Outlook等主流日历应用

#### 3. 日历订阅服务
- 自动生成iCalendar格式的日历事件
- 包含调整时间、幅度等信息
- 支持自定义事件描述
- 支持用户通过日历应用订阅
- 提供订阅链接生成服务
- 支持订阅状态查询
- 订阅内容包含具体调整时间和幅度
- 自动更新调整信息
- 支持历史记录查询
- 支持自动更新订阅内容
- 实时同步最新调整信息
- 支持手动触发更新

### 管理界面
- 管理界面只展示统计订阅人数，和订阅内容，油价调整日期和上涨或下跌情况，可以手动调整上涨或下跌

## 技术特点
- 项目目录简洁，不使用数据库，需要存储的使用json文本
- 尽量不记录用户个人信息，随机生成时间戳id标记用户
- 前后端分离架构，便于维护和扩展

## 项目配置

### Git 忽略文件
项目中使用 `.gitignore` 文件来指定哪些文件或文件夹不应该被 Git 版本控制。这对于虚拟环境、日志文件等不应该提交到代码仓库的文件非常有用。

当前已配置忽略的文件夹包括：
- `backend/venv/`: Python 虚拟环境文件夹，包含所有 Python 依赖库，不应提交到 Git 仓库。
